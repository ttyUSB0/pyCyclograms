# Библиотека для программирования циклограмм испытаний
Программирование циклограмм испытаний

Надо сделать в Питоне удобный инструмент для задания циклограмм.
Циклограмма это фактически машина состояний. В ней задаются состояния системы и условия переходов между ними. Надо чтобы было удобно.
Для проведения экспериментов. Например циклирования аккумуляторов, надо сделать 100 циклов, разряд до напряжения 2,7в, заряд до 4,2. А если перегрев, то переход в состояние авария.

## Заготовка для дипломного проекта по циклограммам в Питоне
Классическая схема измерения характеристик аккумов:
Управляющий ПК ]--USB-- Источник тока -----------[ Акуум
               ]--USB-- Управляемая нагрузка --+ [

ПК отправляет команды на задание тока и сбор информации (ток и напряжение). Команды обычно текстовые, весь протокол в тексте.

Здесь в коде сделан симулятор этих приборов.

Это три сервера (UDP), симуляторы ЛИА, ЗУ и управл. нагрузки. Обмен по сети пакетами UDP. 
Структура пакета:
1. (int) номер команды. Имена команд - в файлах
2. (float) данные, специфичные для команды. Это ток, ёмкость и тд

Код серверов-симуляторов находится в simulator.py, его нужно запускать из консоли
python3 simulator.py --help

## Пример запуска
В разных консолях запустим три симулятора:
1. Аккум, с номинальной ёмкостью 2,7Ач, на порту 7001
python3 simulator.py ACC 7001 --Cnom 2.7
2. Зарядное устройство на порту 7002, подключенное к аккумулятору
python3 simulator.py CDU 7002 --hostPort 7001
3. Нагрузка на порту 7003, подключенное к аккумулятору
python3 simulator.py CDU 7003 --hostPort 7001

После этого можно отправлять команды на ЗУ и нагрузку, пример см. в sender.py. Это удобнее всего делать в Spyder, запуская код по кусочкам (см. файл скрипта)


